(function(window){var document=window.document,mobius=(function(){var mobius=function(){return new mobius.fn.init(rootmobius)},_mobius=window.mobius,rootmobius,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},indexOf=Array.prototype.indexOf,bind=(!("bind" in Function.prototype)?Function.prototype.bind=function(owner){var that=this;var args=Array.prototype.slice.call(arguments,1);return function(){return that.apply(owner,args.length===0?arguments:arguments.length===0?args:args.concat(Array.prototype.slice.call(arguments,0)))}}:null),class2type={};mobius.version="0.9.0";mobius.fn=mobius.prototype={constructor:mobius,init:function(rootmobius){return this}};mobius.fn.init.prototype=mobius.fn;mobius.extend=mobius.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;
if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!mobius.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!==null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(mobius.isPlainObject(copy)||(copyIsArray=mobius.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&mobius.isArray(src)?src:[]}else{clone=src&&mobius.isPlainObject(src)?src:{}}target[name]=mobius.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};mobius.extend({noConflict:function(deep){if(deep){window.mobius=_mobius}return mobius},error:function(msg){throw msg},isFunction:function(obj){return mobius.type(obj)==="function"},type:function(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object"},inArray:function(elem,array){if(array.indexOf){return array.indexOf(elem)}for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i
}}return -1},typeOf:function(value){var s=typeof value;if(s==="object"){if(value){if(value instanceof Array){s="array"}}else{s="null"}}return s},utilities:{},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||mobius.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},browser:{},print_r:function(G,F,I,C){C=C||0;F=F||10;I=I||" ";if(C>F){return"[WARNING: Too much recursion]\n"}var D,A="",H=typeof G,B="";if(G===null){A+="(null)\n"}else{if(H=="object"){C++;for(D=0;D<C;D++){B+=I}if(G&&G.length){H="array"}A+="("+H+") :\n";for(D in G){try{A+=B+"["+D+"] : "+mobius.print_r(G[D],F,I,(C+1))}catch(E){return"[ERROR: "+E+"]\n"
}}}else{if(H=="string"){if(G==""){G="(empty)"}}A+="("+H+") "+G+"\n"}}return A},pad:function(number,length){var str=""+number;while(str.length<length){str="0"+str}return str},isNumeric:function(n){return !isNaN(parseFloat(n))&&isFinite(n)},log:function(data,dump){if(window.console&&typeof(window.console.log)==="function"){dump===true?console.log(mobius.print_r(data)):console.log(data)}},global:{singleTimeout:true}});rootmobius=mobius(document);return(window.mobius=mobius)})(),checkConsole=(function(fn){if(window.console){if(!(fn in console)){return false}return true}return false}),callQueue=[];mobius.ready=(function(callback,options){this.config={context:callback,timeout:10000,loadDelay:300};mobius.extend(this.config,options);this.config.timeout=parseInt(this.config.timeout);callQueue.push({callback:callback,context:this.config.context});var that=this;this.abort=(function(){callQueue.shift();var msg="mobius.ready() timed out";if(checkConsole("error")){console.error(msg)}else{alert(msg)}return false
});this.done=(function(){if(!(mobius.isready.status.abort&&mobius.global.singleTimeout)){var func=callQueue.shift();func.callback.call(func.context)}});this.handle=(function(action){switch(action){case 1:case"ready":mobius.done.call(this);break;case 2:case"wait":this.wait();break;case 3:case"error":this.error();break;case 4:case"abort":default:mobius.abort.call(this);break}});this.isready=(function(){return{called:false,status:{ready:false,abort:false,wait:false,error:{iserror:false,count:0}},init:function(){window.onload=function(e){mobius.go(that.config)};this.check()},check:function(){var action;if(this.status.error.iserror){action="error"}else{if(this.status.ready){action="ready"}else{action="wait"}}mobius.handle.apply(this,[action])},error:function(){var action="abort";if(mobius.global.singleTimeout){if(this.status.error.iserror&&(++this.status.error.count===1)){this.status.abort=true;mobius.handle.apply(this,[action])}}else{this.status.abort=true;mobius.handle.apply(this,[action])
}},wait:function(){this.onwait=(function(){return{INT:300,DONE:false,start:function(){var that=this,timeoutId=setTimeout(function(){that.DONE=true},mobius.config.timeout),intervalId=setInterval(function(){if(!that.DONE){that.waiting(intervalId,timeoutId)}else{that.stop(intervalId,timeoutId,true)}},that.INT)},waiting:function(intervalId,timeoutId){mobius.isready.status.waiting=true;if(mobius.isready.status.ready){this.stop(intervalId,timeoutId)}},stop:function(intervalId,timeoutId,timeout){clearInterval(intervalId);clearTimeout(timeoutId);mobius.isready.status.waiting=false;mobius.isready.status.error.iserror=timeout;mobius.isready.check()}}})();this.onwait.start()}}})();this.isready.init()});mobius.extend(mobius.utilities,{executeFunctionByName:function(functionName,context){if(context===undefined){context=window}var args=Array.prototype.slice.call(arguments).splice(2);var namespaces=functionName.split(".");var func=namespaces.pop();var i;for(i=0;i<namespaces.length;i++){context=context[namespaces[i]]
}return context[func].apply(this,args)},loader:(function(){function loadJs(filename,callback){var fileref;fileref=document.createElement("script");fileref.setAttribute("type","text/javascript");fileref.setAttribute("src",filename);if(typeof callback!=="undefined"){fileref.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){mobius.utilities.executeFunctionByName(callback)}};fileref.onload=mobius.utilities.executeFunctionByName(callback)}if(typeof fileref!==undefined){document.getElementsByTagName("head")[0].appendChild(fileref)}}function loadCss(filename,callback){var fileref;fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("type","text/css");fileref.setAttribute("href",filename);if(typeof callback!=="undefined"){fileref.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){mobius.utilities.executeFunctionByName(callback)}}}if(typeof fileref!==undefined){document.getElementsByTagName("head")[0].appendChild(fileref)
}}return{js:loadJs,css:loadCss}})()});mobius.fn.extend({hasClass:(function(obj,className){if(typeof obj=="undefined"||obj==null||!RegExp){return false}var re=new RegExp("(^|\\s)"+className+"(\\s|$)");if(typeof(obj)==="string"){return re.test(obj)}else{if(typeof(obj)==="object"&&obj.className){return re.test(obj.className)}}return false}),getElementsByClassName:(function(searchClass,node,tag){var classElements=new Array();if(typeof node==="undefined"||node==null){node=document}else{if(typeof node==="string"){node=document.getElementById(node)}else{if(typeof node!=="object"){node=document}}}if(tag==null){tag="*"}var els=node.getElementsByTagName(tag),elsLen=els.length,pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)"),i=0,j=0;for(i,j;i<elsLen;i++){if(pattern.test(els[i].className)){classElements[j]=els[i];j++}}return classElements}),addClass:function(el,className){mobius.fn.removeClass(el,className);el.className=(el.className+" "+className).trim()},removeClass:function(el,className){if(el.className!==undefined){el.className=el.className.replace(className,"").trim()
}},getParent:function(el){if(el.nodeType==1&&el.parentNode!==null){return el.parentNode}else{return null}},getChildren:function(el){if(el.nodeType==1&&el.childNodes!==null){var i,arr=[];for(i=0;i<el.childNodes.length;i++){if(el.childNodes[i].nodeType==1){arr.push(el.childNodes[i])}}return arr}else{return null}},getSiblings:function(el){if(el&&el.parentNode&&el.nodeType==1){var i,arr=[];for(i=0;i<el.parentNode.childNodes.length;i++){if(el.parentNode.childNodes[i].nodeType==1){arr.push(el.parentNode.childNodes[i])}}return arr}else{return null}},getNext:function(el){if(el.nodeType==1&&el.nextSibling!==null){return(el.nextSibling.nodeType==1?el.nextSibling:el.nextSibling.nextSibling)}else{return null}},getPrevious:function(el){if(el.nodeType==1&&el.previousSibling!==null){return(el.previousSibling.nodeType==1?el.previousSibling:el.previousSibling.previousSibling)}else{return null}},getFirst:function(el){if(el.nodeType==1&&el.childNodes!==null){return(el.firstChild.nodeType==1?el.firstChild:el.firstChild.nextSibling)
}else{return null}},getLast:function(el){if(el.nodeType==1&&el.childNodes!==null){return(el.lastChild.nodeType==1?el.lastChild:el.lastChild.previousSibling)}else{return null}},firstAndLast:(function(options){options=typeof options==="object"?options:{};var config={tags:["li"]};mobius.extend(config,options);this.getRelativeFirstLast=function(tag,children){children=children&&mobius.getChildren(children)?mobius.getChildren(children):mobius.getChildren(document.getElementsByTagName("body")[0]);if(document.getElementsByTagName(tag).length){if(children.length&&mobius.getSiblings(children[0]).length>1){var i,count=0;for(i in children){var currChild=children[i],nextChild=mobius.getNext(currChild),prevChild=mobius.getPrevious(currChild);if((nextChild)&&currChild.nodeName.toUpperCase()===nextChild.nodeName.toUpperCase()){if(++count===1&&tag.toUpperCase()===currChild.nodeName.toUpperCase()){mobius.addClass(currChild,"first")}}else{if((prevChild)&&currChild.nodeName.toUpperCase()===prevChild.nodeName.toUpperCase()){count=0;
if(count===0&&tag.toUpperCase()===currChild.nodeName.toUpperCase()){mobius.addClass(currChild,"last")}}}if(mobius.getChildren(currChild).length){this.getRelativeFirstLast(tag,currChild)}}}else{if(children.length&&mobius.getSiblings(children[0]).length<=1){this.getRelativeFirstLast(tag,children[0])}else{return false}}}return false};for(key in config){if(key==="tags"){var prop=config[key];if(mobius.typeOf(config[key])==="array"){var p,arr=[];for(p in prop){this.getRelativeFirstLast(prop[p])}}}}}),Event:(function(){return{add:function(obj,type,fn,context){var that=this;if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=function(){obj["e"+type+fn](window.event,that)};obj.attachEvent("on"+type,obj[type+fn])}else{obj.addEventListener(type,function(e){fn.apply(context,[e,that])},false);obj["on"+type]=function(e){fn.apply(context,[e,that])}}},remove:function(obj,type,fn){var that=this;if(obj.detachEvent){obj.detachEvent("on"+type,obj[type+fn]);obj[type+fn]=null}else{obj.removeEventListener(type,fn,false)
}},correctEvent:function(e){return e||window.event},preventDefault:function(event){var e=this.correctEvent(event);if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}return e}}})(),ajax:(function(options,callerObj){var self=mobius.ajax;self.config={type:"load",url:window.location.href,data:{},dataType:"html",success:function(){},error:function(){}};mobius.extend(self.config,options);self.config.type=self.config.type==="load"||self.config.type==="post"?"post":"get";self.XMLHttpFactories=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];self.createXMLHTTPObject=function(){var xmlhttp=null;for(var i=0;i<self.XMLHttpFactories.length;i++){try{xmlhttp=self.XMLHttpFactories[i]()}catch(e){continue}break}return xmlhttp};self.objectToURL=function(url,query_str_obj){var i=0,url_str=url+"?",property;for(property in query_str_obj){url_str+=property+"="+escape(query_str_obj[property])+"&";
i++}if(url_str.substr(url_str.length-1)==="?"||url_str.substr(url_str.length-1)==="&"){url_str=url_str.substr(0,url_str.length-1)}return url_str};self.execute=function(url,type,data,success,error){var request=new Object(),url=self.config.url,type=self.config.type,data=self.config.data,dataType=self.config.dataType,success=self.config.success,error=self.config.error;request.ajaxRequest=self.createXMLHTTPObject();request.sendRequest=function(){if(request.ajaxRequest.readyState==1){alert("error: still processing previous request");return}var escapedurl=self.objectToURL(url,data);request.ajaxRequest.open(type,escapedurl);request.ajaxRequest.onreadystatechange=function(){if(request.ajaxRequest.readyState==4){if(request.ajaxRequest.status==200){var contentType=request.ajaxRequest.getResponseHeader("Content-Type");if(dataType==="json"){var jsondata=eval("("+request.ajaxRequest.responseText+")");success(jsondata)}else{if(dataType==="xml"){success(request.ajaxRequest.responseXML)}else{if(dataType==="html"){success(request.ajaxRequest.responseText)
}}}}else{if(request.ajaxRequest.status==404){error(request.ajaxRequest)}}}};request.ajaxRequest.send(null)};request.sendRequest();return request};self.pageLoad=(function(){return{ajaxRequest:false,init:function(parent){var ajax_links=document.getElementsByTagName("a"),that=this;this.ajaxRequest=false;parent.domListenersAndManipulation();mobius.each(ajax_links,function(i,name){mobius.Event.add(name,"click",function(e){that.onClick(e,name,arguments[1])},that)})},update:function(url,id){var req;if(req=self.createXMLHTTPObject()){req.open("POST",url,true);var that=this;req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){document.getElementById(id).innerHTML=req.responseText;that.init(that.callerObj)}}};req.send("")}else{return true}return false},onClick:function(e,name){var isExternal=false;if(!this.ajaxRequest){this.ajaxRequest=true;if(name.getAttribute){if(name.getAttribute("rel")==="external"){isExternal=true}}else{if(name.attributes){var attributes=name.attributes;
mobius.each(attributes,function(j,attr){if(attr.name==="rel"&&attr.value==="external"){isExternal=true}})}}if(!isExternal){e=mobius.Event.preventDefault(e);var href=e.target?e.target:e.srcElement.href;this.update(href,"page");return false}}else{e.preventDefault();return false}}}})();if(callerObj){self.pageLoad.init(callerObj)}else{self.execute()}})});mobius.each(("loadJs loadCss print_r pad isNumeric log do run getElementsByClassName hasClass addClass removeClass getParent getChildren getSiblings getNext getPrevious getFirst getLast firstAndLast Event ajax").split(" "),function(i,name){if(name==="loadJs"){mobius[name]=mobius.fn[name]=mobius.utilities.loader.js;return this}else{if(name==="loadCss"){mobius[name]=mobius.fn[name]=mobius.utilities.loader.css;return this}else{if(name==="do"||name==="run"){mobius.fn[name]=mobius[name]=mobius.utilities.executeFunctionByName;return this}else{if(name==="getElementsByClassName"||name==="hasClass"||name==="addClass"||name==="removeClass"||name==="getParent"||name==="getChildren"||name==="getSiblings"||name==="getNext"||name==="getPrevious"||name==="getFirst"||name==="getLast"||name==="firstAndLast"||name==="Event"||name==="ajax"){mobius[name]=mobius.fn[name];
return this}else{mobius.fn[name]=mobius[name];return this}}}}})})(window);mobius.extend(mobius.utilities,{browser:{init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},isWebkit:function(){var a=/(AppleWebKit)\/([\d.]+)/.exec(navigator.userAgent);if(a){return true}else{return false}},isGecko:function(){var a=/(Gecko)\/([\d.]+)/.exec(navigator.userAgent);if(a){return true}else{return false}},isPresto:function(){var a=/(Presto)\/([\d.]+)/.exec(navigator.userAgent);if(a){return true}else{return false}},searchString:function(d){for(var a=0;a<d.length;a++){var b=d[a].string;var c=d[a].prop;this.versionSearchString=d[a].versionSearch||d[a].identity;if(b){if(b.indexOf(d[a].subString)!=-1){return d[a].identity}}else{if(c){return d[a].identity}}}},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);
if(a==-1){return}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]}});
mobius.utilities.browser.init();mobius.browser=mobius.utilities.browser;mobius.extend({device:(function(){var a="0.7.0";return{version:a}})()});mobius.extend(mobius.device,{support:(function(){var c={jqTest:false,cssTest:false},a={gradeA:false,isJqSmart:false,isCssSmart:false};function d(){var j=true;if(typeof c.jqTest!=="undefined"){if(mobius.typeOf(c.jqTest)==="array"){var k;for(k in c.jqTest){if(c.jqTest&&c.jqTest.length){j=j&&mobius.device.support.js(c.jqTest[k])?true:false}}a.isJqSmart=j}else{a.isJqSmart=mobius.device.support.js(c.jqTest)}}else{a.isJqSmart=false}}function f(){var j=true;if(typeof c.cssTest!=="undefined"){if(mobius.typeOf(c.cssTest)==="array"){var k;for(k in c.cssTest){if(c.cssTest&&c.cssTest.length){j=j&&mobius.device.support.css(c.cssTest[k])?true:false}}a.isCssSmart=j}else{a.isCssSmart=mobius.device.support.css(c.cssTest)}}else{a.isCssSmart=false}}function e(){f();d();a.gradeA=a.isCssSmart&a.isJqSmart?true:false}function h(){e()}function g(j,i){c.jqTest=j;c.cssTest=i;
this.status=a;return(document.onready=h())}var b={check:g,status:null};return b})(),orientation:(function(){function getWindowWidth(){if(window.innerWidth){return window.innerWidth}else{if(document.documentElement.clientWidth){return document.documentElement.clientWidth}else{if(document.body.clientWidth){return document.body.clientWidth}else{return 0}}}}function getWindowHeight(){if(window.innerHeight){return window.innerHeight}else{if(document.documentElement.clientHeight){return document.documentElement.clientHeight}else{if(document.body.clientHeight){return document.body.clientHeight}else{return 0}}}}var config={loaded:false,orientation:getWindowWidth()<getWindowHeight()?"portrait":"landscape",width:getWindowWidth(),height:getWindowHeight(),tag:"body",attr:"orient",sizes:Array(320,480,768,1024)};var oldAttr;var newAttr;function addEvent(element,newFunction,eventType){var oldEvent=eval("element."+eventType);var eventContentType=eval("typeof element."+eventType);if(eventContentType!=="function"){eval("element."+eventType+" = newFunction")
}else{eval("element."+eventType+" = function(e) { oldEvent(e); newFunction(e); }")}}function getWidths(){var minW="";var maxW="";var sizes=config.sizes;var j=0;var i;for(i in sizes){if(sizes[i]<=config.width){minW=minW+"min-width-"+sizes[i].toString()+"px "}else{maxW=maxW+"max-width-"+sizes[i].toString()+"px ";j++}}minW=minW.replace(/\s+$/,"");maxW=maxW.replace(/\s+$/,"");if(minW===""&&config.width<sizes[0]){minW="min-width-0"}var result=maxW.length?minW+" "+maxW:minW;return result}function addTagAttr(tag,attr,value){newAttr=oldAttr!==null?oldAttr+" "+value:value;var el=document.getElementsByTagName(tag)[0];if(attr.toLowerCase()==="class"){el.className=newAttr}else{el.setAttribute(attr,newAttr)}}function updateOrientation(){config.width=getWindowWidth();config.height=getWindowHeight();config.orientation=config.width<config.height?"portrait":"landscape";addTagAttr(config.tag,config.attr,getWidths()+" "+config.orientation)}function init(){if(config.loaded===true){return}var el=document.getElementsByTagName(config.tag)[0];
oldAttr=el.getAttribute(config.attr);updateOrientation();if(window.orientation!==undefined){window.onorientationchange=updateOrientation}else{addEvent(window,updateOrientation,"onresize")}config.loaded=true}function loader(delay){setTimeout(function(){init()},delay)}function load(tag,attr,sizes,delay){if((typeof(sizes)==="object"||typeof(sizes)==="array")&&sizes.length){config.sizes=sizes}if(tag!==null){config.tag=tag}if(attr!==null){config.attr=attr}if(delay===undefined){delay=0}return loader(delay)}function is(size){var rtn=false;var sizes=getWidths();var result=sizes.split(" ");mobius.each(result,function(i,name){if(size===name){rtn=true}});return rtn}var publicObj={load:load,is:is,orientation:config.orientation,width:getWindowWidth(),height:getWindowHeight()};return publicObj})()});mobius.extend(mobius.device.support,{css:(function(){var c=document.createElement("div"),b="Khtml Ms O Moz Webkit".split(" "),a=b.length;return function(e){if(e in c.style){return true}e=e.replace(/^[a-z]/,function(f){return f.toUpperCase()
});var d=a;while(d--){if(b[d]+e in c.style){return true}}return false}})(),js:(function(){return function(b){if(typeof b!=="string"){return false}var a=null;switch(b.toLowerCase()){case"jquery":result=typeof jQuery==="function";break;default:result=false;break}return result}})()});mobius.extend(mobius.device,{mouseEvents:(function(){var b="btn",c="btn_group",d="btn_exclude",a={btnClass:b,btnGroup:c,btnExclude:d};return{init:function(f){f=mobius.extend(a,f);if(!!f.btnGroup){var e=mobius.getElementsByClassName(f.btnGroup);mobius.each(e,function(k,h){var g=0;for(g;g<h.childNodes.length;g++){if(h.childNodes[g].nodeType==1){if(!!f.btnExclude){var l=new RegExp(f.btnExclude,"gi");if(!(h.childNodes[g].className.match(l))){mobius.addClass(h.childNodes[g],f.btnClass)}}}}})}mobius.each(mobius.getElementsByClassName(f.btnClass),function(h,g){mobius.device.mouseEvents.clearStates(g);new mobius.device.mouseEvents.handleClick(g);new mobius.device.mouseEvents.handleHover(g)})},states:{click:{active:"active",press:"pressed"},hover:{hover:"hover",over:"down",off:"up"},form:{focus:"focus",blur:"blur"}},getNode:function(f,e){if(f.parentNode!==null&&(f.tagName.toLowerCase()!==e.toLowerCase())){return this.getNode(f.parentNode,e)
}return f},clearStates:function(f){function e(){mobius.each(mobius.device.mouseEvents.states,function(h,g){mobius.each(g,function(i,j){mobius.removeClass(f,j)})})}if(typeof window.onunload!==undefined){window.onunload=function(g){e()}}else{if(typeof window.onbeforeunload!==undefined){window.onbeforeunload=function(g){e()}}}}}})()});mobius.extend(mobius.device.mouseEvents,{handleClick:(function(){return function(a){var d=this;this.element=a;this.tag=a.tagName;function c(f){d.handleEvent.apply(d,[f])}if(this.element!==null){if(!window.Touch){var b=this.element;if(b.attachEvent){b.attachEvent("onclick",function(f){c(f)})}else{b.addEventListener("click",c,false)}}else{this.clickType="touchstart";this.element.addEventListener(this.clickType,c,false)}}this.handleEvent=function(f){f=mobius.Event.correctEvent(f);switch(f.type){case"touchstart":this.onTouchStart(f);break;case"touchmove":this.onTouchMove(f);break;case"touchend":this.onTouchEnd(f);break;case"click":this.onClick(f);break}};this.onClick=function(i){var g=this.element;
var f,h;if(this.touchAnchor){f=this.touchAnchor}else{if(document.elementFromPoint){f=document.elementFromPoint(i.clientX,i.clientY)}else{f=g}}this.theTarget=mobius.device.mouseEvents.getNode(f,this.tag);mobius.removeClass(this.theTarget,mobius.device.mouseEvents.states.hover.hover);mobius.addClass(this.theTarget,mobius.device.mouseEvents.states.click.active);if(g.detachEvent){g.detachEvent("onclick",this)}else{g.removeEventListener("click",this,false)}};this.onTouchStart=function(g){var f=this.element;this.touchAnchor=document.elementFromPoint(g.targetTouches[0].clientX,g.targetTouches[0].clientY);this.moved=false;this.theTarget=mobius.device.mouseEvents.getNode(this.touchAnchor,this.tag);if(this.theTarget.nodeType==3){this.theTarget=this.theTarget.parentNode}mobius.removeClass(this.theTarget,mobius.device.mouseEvents.states.click.press);mobius.addClass(this.theTarget,mobius.device.mouseEvents.states.click.press);f.addEventListener("touchmove",this,false);f.addEventListener("touchend",this,false)
};this.onTouchMove=function(f){this.moved=true;mobius.removeClass(this.theTarget,mobius.device.mouseEvents.states.click.press)};this.onTouchEnd=function(g){var f=this.element;f.addEventListener("click",this,false);f.removeEventListener("touchmove",this,false);f.removeEventListener("touchend",this,false);if(!this.moved&&this.theTarget){mobius.removeClass(this.theTarget,mobius.device.mouseEvents.states.click.press);var h=document.createEvent("MouseEvents");h.initEvent("click",true,true);this.theTarget.dispatchEvent(h)}this.theTarget=undefined}}})()});mobius.extend(mobius.device.mouseEvents,{handleHover:(function(){return function(a){var d=this;this.element=a;this.tag=a.tagName;function c(f){d.handleEvent.apply(d,[f])}if(this.element!==null){if(!window.Touch){var d=this,b=this.element;if(b.attachEvent){b.attachEvent("onmouseover",function(f){c(f)})}else{b.addEventListener("mouseover",c,false)}}}this.handleEvent=function(f){f=mobius.Event.correctEvent(f);switch(f.type){case"mouseover":this.onMouseOver(f);
break;case"mouseout":this.onMouseOut(f);break}};this.onMouseOver=function(h){var g=this.element,f=document.elementFromPoint?document.elementFromPoint(h.clientX,h.clientY):g;this.theTarget=mobius.device.mouseEvents.getNode(f,this.tag);if(this.theTarget.nodeType==3){this.theTarget=this.theTarget.parentNode}mobius.removeClass(this.theTarget,mobius.device.mouseEvents.states.hover.hover);mobius.addClass(this.theTarget,mobius.device.mouseEvents.states.hover.hover);if(g.attachEvent){g.attachEvent("onmouseout",function(i){c(i)})}else{g.addEventListener("mouseout",c,false);g.onmouseout=function(i){c(i)}}};this.onMouseOut=function(f){if(this.theTarget){mobius.removeClass(this.theTarget,mobius.device.mouseEvents.states.hover.hover)}this.theTarget=undefined}}})()});mobius.extend({called:false,go:(function(b,a){this.init=(function(){return{options:{loadDelay:300,ajax:true,mouseEvents:{enabled:true,btnClass:"btn",btnGroup:"btn_group",btnExclude:"btn_exclude"},firstAndLast:{enabled:true,tags:["ul","li","div","p"]},device:{enabled:true,orientationSizes:Array(240,320,480,768,1024),orientationTag:"html",orientationAttribute:"class"},support:{enabled:true,check:{js:"jquery",css:["textShadow","borderRadius","boxShadow"]},callback:function(){if(mobius.device.gradeA){}else{}}}},begin:function(e,d,f){var c=this;
mobius.extend(c.options,d);if(e===undefined){e=c.options.loadDelay}setTimeout(function(){c.ready.apply(c,[f])},e)},ready:function(d){var c=this;if(this.options.support.enabled){var e={js:"jquery",css:["textShadow","borderRadius","boxShadow"]};mobius.extend(e,this.options.support.check);mobius.device.support.check(e.js,e.css);window.GRADE_A_DEVICE=mobius.device.gradeA=mobius.device.support.status.gradeA;this.options.support.callback.call(mobius.device.support);if(GRADE_A_DEVICE){$(function(){$("html").addClass("gradeA")})}}if(this.options.device.enabled){mobius.device.orientation.load(this.options.device.orientationTag,this.options.device.orientationAttribute,this.options.device.orientationSizes,a)}if(this.options.ajax){mobius.ajax({type:"load"},d)}else{d.domListenersAndManipulation.call(this)}if(mobius.isready!==undefined){mobius.isready.status.ready=true}}}})();this.domListenersAndManipulation=(function(){if(this.init.options.mouseEvents&&this.init.options.mouseEvents.enabled){mobius.device.mouseEvents.init({btnClass:this.init.options.mouseEvents.btnClass,btnGroup:this.init.options.mouseEvents.btnGroup,btnExclude:this.init.options.mouseEvents.btnExclude})
}if(this.init.options.firstAndLast&&this.init.options.firstAndLast.enabled){mobius.firstAndLast({tags:this.init.options.firstAndLast.tags})}});if(!mobius.called){mobius.called=true;this.init.begin.apply(this.init,[a,b,this])}})});